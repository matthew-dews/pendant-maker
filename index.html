<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendant Designer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="menu-bar">
        <div class="menu-group">
            <button id="resetButton">Reset</button>
        </div>
        <div class="menu-group">
            <input type="file" id="importInput" accept=".json" style="display: none;">
            <label for="importInput" class="menu-button">Import JSON</label>
            <button id="exportButton">Export</button>
        </div>
    </div>
    <div id="app-container">
        <div class="editor-container">
            <canvas id="profileCanvas" width="400" height="600"></canvas>
            <div class="coord-inputs">
                <label>X: <input type="number" id="xCoordInput" step="0.1" disabled></label>
                <label>Y: <input type="number" id="yCoordInput" step="0.1" disabled></label>
            </div>
        </div>
        <div class="viewport-container">
            <div class="view-controls">
                <label><input type="checkbox" id="wireframeToggle" checked> Show Wireframe</label>
                <label><input type="checkbox" id="normalToggle" checked> Use Normal Material</label>
            </div>
            <canvas id="sceneCanvas" width="600" height="600"></canvas>
        </div>
    </div>

    <div id="instructionsModal" class="modal-backdrop">
        <div class="modal-content">
            <h2>Welcome to Pendant Designer!</h2>
            <ul>
                <li><b>Add a Point:</b> Click anywhere on a line to add a new point.</li>
                <li><b>Move a Point:</b> Click and drag any point.</li>
                <li><b>Delete a Point:</b> Double-click on a point to remove it.</li>
                <li><b>Control the Camera:</b> In the 3D view, drag to orbit, scroll to zoom, and right-click to pan.</li>
            </ul>
            <button id="closeInstructions">Got it!</button>
        </div>
    </div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.164.1/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.164.1/examples/jsm/"
        }
    }
    </script>
    <script type="module" src="main.js"></script>
</body>
</html>